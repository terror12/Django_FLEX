window.cdn="https://dff-images.s3.amazonaws.com";window.logo_suffix={nfl:".png",nhl:".svgz",nba:".svg",mlb:".svg"};"dk"==window.platform?window.platformMaxSalary=5E4:"fd"!=window.platform||"nfl"!=window.sport&&"nba"!=window.sport?"fd"==window.platform&&"nhl"==window.sport?window.platformMaxSalary=55E3:"fd"==window.platform&&"mlb"==window.sport&&(window.platformMaxSalary=35E3):window.platformMaxSalary=6E4;window.filter={};
window.filter.nhl={position:[],value_range_min:["0.1"],value_range_max:["3.5"],value_abs_max:["14.0"],salary_range_min:["2000"],salary_range_max:["13000"],ppg_range_min:["1.0"],ppg_range_max:["25.0"],ppg_abs_max:["25.0"],opp_rank_range_min:["1.0"],opp_rank_range_max:["31.0"],ovd:!0,depth:[],sorting:["salary"],flex:["C","W","D"],stack:"",salary_cap:[window.platformMaxSalary],opt_salary_min:[.6*window.platformMaxSalary],opt_salary_max:[window.platformMaxSalary]};
window.filter.mlb={position:[],value_range_min:["0.1"],value_range_max:["7.0"],value_abs_max:["14.0"],salary_range_min:["2000"],salary_range_max:["14000"],ppg_range_min:["1.0"],ppg_range_max:["50.0"],ppg_abs_max:["50.0"],opp_rank_range_min:["0"],opp_rank_range_max:["30.0"],ovd:!0,depth:[],sorting:["salary"],stack:"",flex:"C 1B 2B 3B SS OF".split(" "),salary_cap:[window.platformMaxSalary],opt_salary_min:[.6*window.platformMaxSalary],opt_salary_max:[window.platformMaxSalary]};
window.filter.nba={position:[],value_range_min:["1.0"],value_range_max:["14.0"],value_abs_max:["14.0"],salary_range_min:["2000"],salary_range_max:["13500"],ppg_range_min:["5.0"],ppg_range_max:["70.0"],ppg_abs_max:["75.0"],opp_rank_range_min:["1.0"],opp_rank_range_max:["30.0"],ovd:!1,flex:["PG","SG","SF","PF","C"],depth:[],sorting:["salary"],stack:"",salary_cap:[window.platformMaxSalary],opt_salary_min:[.6*window.platformMaxSalary],opt_salary_max:[window.platformMaxSalary]};
window.filter.nfl={position:[],value_range_min:["0.0"],value_range_max:["6.0"],value_abs_max:["6.0"],salary_range_min:["2000"],salary_range_max:["13000"],ppg_range_min:["3.0"],ppg_range_max:["40.0"],ppg_abs_max:["40.0"],opp_rank_range_min:["1.0"],opp_rank_range_max:["32.0"],ovd:!0,flex:["RB","TE","WR"],depth:[],sorting:["salary"],stack:"",salary_cap:[window.platformMaxSalary],opt_salary_min:[.6*window.platformMaxSalary],opt_salary_max:[window.platformMaxSalary]};window.positions={dk:{},fd:{}};
window.positions.dk.nfl="QB RB WR TE FLX DST".split(" ");window.positions.fd.nfl="QB RB WR TE FLX DST".split(" ");window.positions.dk.nhl=["C","W","D","G","U"];window.positions.fd.nhl=["C","W","D","G"];window.positions.dk.nba="PG SG SF PF C U".split(" ");window.positions.fd.nba=["PG","SG","SF","PF","C"];window.positions.dk.mlb="P C 1B 2B 3B SS OF".split(" ");window.positions.fd.mlb="P C 1B 2B 3B SS OF U".split(" ");window.positionsOrder={dk:{},fd:{}};window.positionsOrder.dk.nfl="QB RB RB WR WR WR TE FLX DST".split(" ");
window.positionsOrder.fd.nfl="QB RB RB WR WR WR TE FLX DST".split(" ");window.positionsOrder.dk.nhl="CCWWWDDGU".split("");window.positionsOrder.fd.nhl="WWWWCCDDG".split("");window.positionsOrder.dk.nba="PG SG SF PF C G F U".split(" ");window.positionsOrder.fd.nba="PG PG SG SG SF SF PF PF C".split(" ");window.positionsOrder.dk.mlb="P P C 1B 2B 3B SS OF OF OF".split(" ");window.positionsOrder.fd.mlb="P C/1B 2B 3B SS OF OF OF U".split(" ");
window.positionMeta={dk:{nhl:{},nba:{},nfl:{},mlb:{}},fd:{nhl:{},nba:{},nfl:{},mlb:{}}};
window.positionMeta.dk.nfl={QB:{position_name:"QB",position_slots:1,position_filled:0,wildcards:[]},RB:{position_name:"Running Back",position_slots:2,position_filled:0,wildcards:["FLX"]},WR:{position_name:"Wide Receiver",position_slots:3,position_filled:0,wildcards:["FLX"]},TE:{position_name:"Tight End",position_slots:1,position_filled:0,wildcards:["FLX"]},FLX:{position_name:"Flex",position_slots:1,position_filled:0,wildcards:[]},DST:{position_name:"Defense",position_slots:1,position_filled:0,wildcards:[]}};
window.positionMeta.dk.mlb={P:{position_name:"Pitcher",position_slots:2,position_filled:0,wildcards:[]},C:{position_name:"Catcher",position_slots:1,position_filled:0,wildcards:[]},"1B":{position_name:"1st Base",position_slots:1,position_filled:0,wildcards:[]},"2B":{position_name:"2nd Base",position_slots:1,position_filled:0,wildcards:[]},"3B":{position_name:"3rd Base",position_slots:1,position_filled:0,wildcards:[]},SS:{position_name:"Short Stop",position_slots:1,position_filled:0,wildcards:[]},OF:{position_name:"Outfield",
position_slots:3,position_filled:0,wildcards:[]}};
window.positionMeta.fd.mlb={P:{position_name:"Pitcher",position_slots:1,position_filled:0,wildcards:[]},"C/1B":{position_name:"Catcher/1st Base",position_slots:1,position_filled:0,wildcards:["U"]},C:{position_name:"Catcher",position_slots:0,position_filled:0,wildcards:["C/1B"]},"1B":{position_name:"1st Base",position_slots:0,position_filled:0,wildcards:["C/1B"]},"2B":{position_name:"2nd Base",position_slots:1,position_filled:0,wildcards:["U"]},"3B":{position_name:"3rd Base",position_slots:1,position_filled:0,
wildcards:["U"]},SS:{position_name:"Short Stop",position_slots:1,position_filled:0,wildcards:["U"]},OF:{position_name:"Outfield",position_slots:3,position_filled:0,wildcards:["U"]},U:{position_name:"Utility",position_slots:3,position_filled:0,wildcards:[]}};
window.positionMeta.fd.nfl={QB:{position_name:"QB",position_slots:1,position_filled:0,wildcards:[]},RB:{position_name:"Running Back",position_slots:2,position_filled:0,wildcards:["FLX"]},WR:{position_name:"Wide Receiver",position_slots:3,position_filled:0,wildcards:["FLX"]},TE:{position_name:"Tight End",position_slots:1,position_filled:0,wildcards:["FLX"]},DST:{position_name:"Defense",position_slots:1,position_filled:0,wildcards:[]},FLX:{position_name:"Flex",position_slots:1,position_filled:0,wildcards:[]}};
window.positionMeta.dk.nhl={C:{position_name:"Center",position_slots:2,position_filled:0,wildcards:["U"]},W:{position_name:"Winger",position_slots:3,position_filled:0,wildcards:["U"]},D:{position_name:"Defenseman",position_slots:2,position_filled:0,wildcards:["U"]},G:{position_name:"Goalie",position_slots:1,position_filled:0,wildcards:[]},U:{position_name:"Utility",position_slots:1,position_filled:0,wildcards:[]}};
window.positionMeta.fd.nhl={W:{position_name:"Winger",position_slots:4,position_filled:0,wildcards:[]},C:{position_name:"Center",position_slots:2,position_filled:0,wildcards:[]},D:{position_name:"Defenseman",position_slots:2,position_filled:0,wildcards:[]},G:{position_name:"Goalie",position_slots:1,position_filled:0,wildcards:[]},U:{position_name:"Utility",position_slots:0,position_filled:0,wildcards:[]}};
window.positionMeta.dk.nba={PG:{position_name:"Point Guard",position_slots:1,position_filled:0,wildcards:["G","U"]},SG:{position_name:"Shooting Guard",position_slots:1,position_filled:0,wildcards:["G","U"]},SF:{position_name:"Small Forward",position_slots:1,position_filled:0,wildcards:["F","U"]},PF:{position_name:"Power Forward",position_slots:1,position_filled:0,wildcards:["F","U"]},C:{position_name:"Center",position_slots:1,position_filled:0,wildcards:["U"]},G:{position_name:"Guard",position_slots:1,
position_filled:0,wildcards:[]},F:{position_name:"Forward",position_slots:1,position_filled:0,wildcards:[]},U:{position_name:"Utility",position_slots:1,position_filled:0,wildcards:[]}};
window.positionMeta.fd.nba={PG:{position_name:"Point Guard",position_slots:2,position_filled:0,wildcards:[]},SG:{position_name:"Shooting Guard",position_slots:2,position_filled:0,wildcards:[]},SF:{position_name:"Small Forward",position_slots:2,position_filled:0,wildcards:[]},PF:{position_name:"Power Forward",position_slots:2,position_filled:0,wildcards:[]},C:{position_name:"Center",position_slots:1,position_filled:0,wildcards:[]}};
window.maxPicks={dk:{nhl:9,nba:8,nfl:9,mlb:10},fd:{nhl:9,nba:9,nfl:9,mlb:9}};window.maxPlayers={dk:5,fd:4};window.maxSalary=window.platformMaxSalary;window.slot_wildcards={dk:{nhl:["U"],nfl:["FLX"],nba:["G","F","U"],mlb:[]},fd:{nhl:[],nfl:["FLX"],nba:[],mlb:["C/1B","U"]}};window.teamMeta={nfl:{},nba:{},nhl:{},mlb:{}};window.excludePlayers={};window.excludeTeams=[];window.exclude={team_sorting:"team_code",team_order:"asc"};window.pickDetails=[{},{},{},{},{}];window.activeLineup=0;
$(document).ready(function(){if(window.matches){for(var a in window.matches){var b=window.matches[a].away_code,c=window.matches[a].home_code;window.teamMeta[sport][b]={};window.teamMeta[sport][c]={};b=window.teamMeta[sport][b];c=window.teamMeta[sport][c];b.odds_value=window.matches[a].away_odds;b.odds_name=window.matches[a].away_status;b.odds_name_detailed=window.matches[a].away_status_detailed;b.location="away";b.opp=window.matches[a].home_code;b.over_under=window.matches[a].over_under;b.over_under_status=
window.matches[a].over_under_bucket;b.spread=window.matches[a].away_spread;b.kickoff=window.matches[a].start_unix;b.streak=window.matches[a].away_streak;b.proj_win="away"==window.matches[a].proj_winner?1:0;b.proj_score=window.matches[a].projected_away_score;b.proj_score_status=window.matches[a].projected_away_score_bucket;b.team_name=window.matches[a].away_name;b.team_nickname=window.matches[a].away_nickname;c.odds_value=window.matches[a].home_odds;c.odds_name=window.matches[a].home_status;c.odds_name_detailed=
window.matches[a].home_status_detailed;c.location="home";c.opp=window.matches[a].away_code;c.over_under=window.matches[a].over_under;c.over_under_status=window.matches[a].over_under_bucket;c.spread=window.matches[a].home_spread;c.kickoff=window.matches[a].start_unix;c.streak=window.matches[a].home_streak;c.proj_win="home"==window.matches[a].proj_winner?1:0;c.proj_score=window.matches[a].projected_home_score;c.proj_score_status=window.matches[a].projected_home_score_status;c.team_name=window.matches[a].home_name;
c.team_nickname=window.matches[a].home_nickname}redrawTeamExclusions(window.exclude.team_sorting);reSortStacks()}"undefined"!==typeof Storage&&"true"!=localStorage.getItem("noNotification-201920")&&($("div.ui-page-active #notification-container").fadeIn("slow"),localStorage.setItem("noNotification-201920","true"));$(document).on("scroll",headerHandler);$(document).on("blur","input.optimizer-edit-inline",function(){var e=$(this).attr("value");ga("send","event","projections","projections-inline","edited");
var a=parseFloat(this.value).toFixed(2).replace(".00",".0"),a="0"==a.charAt(a.length-1)&&-1==a.indexOf(".0")?parseFloat(a).toFixed(1):a;if(0==isNaN(parseFloat(a))&&0>a)this.value=a="0.0";else if(0==isNaN(parseFloat(a)))this.value=a;else{this.value=e;return}var e=$(this).data("player_id"),b=fetchPlayerData(window.players,"player_id",e),d=calcValue(window.sport,b.salary,a);b.ppg=a;b.value=d.value;window.pickDetails[0][e]&&(window.pickDetails[0][e].ppg=a,window.pickDetails[0][e].value=d.value);window.excludePlayers[e]&&
(window.excludePlayers[e].ppg=a,window.excludePlayers[e].value=d.value);reSort();redrawMyPicks();redrawProjections()});Highcharts.setOptions({chart:{type:"area",backgroundColor:null,resetZoomButton:{position:{x:0,y:-10}},style:{fontFamily:"Open Sans"}},global:{useUTC:!1},lang:{thousandsSep:","},legend:{enabled:!1},credits:{enabled:!1},xAxis:{type:"category",labels:{style:{color:"#BBB"}},gridLineDashStyle:"Dot",gridLineWidth:0,tickWidth:0},yAxis:{gridLineWidth:0,minorGridLineWidth:0,title:{text:""},
labels:{style:{color:"#BBB"}}},plotOptions:{series:{events:{legendItemClick:function(){return!1}}}}});$(document).on("click",".notification-close",function(){$("div.ui-page-active #notification-container").slideUp("fast")});$(document).on("click",".filter_button",function(){ga("send","event","filters","filters-open","filters-open");$("#filterWindow").addClass("open");$("body").addClass("noscroll");$(".ui-page-active").addClass("blur")});$(document).on("click",".settings_button",function(){ga("send",
"event","filters","settings-open","settings-open");$("#settingsWindow").addClass("open");$("body").addClass("noscroll");$(".ui-page-active").addClass("blur")});$(document).on("click",".chat_button",function(){ga("send","event","chat","chat-open","chat-open");$("#chatWindow").addClass("open");$("body").addClass("noscroll");$(".ui-page-active").addClass("blur")});$(document).on("click",".team-exclude-button",function(e){e.stopPropagation();e=$(this).data("team");var a="exclude-team-"+$(this).data("view");
$(this).toggleClass("active");if($(this).hasClass("active"))-1==$.inArray(e,window.excludeTeams)&&window.excludeTeams.push(e),$('.matchup-filter[data-team="'+e+'"]').addClass("excluded"),$('.team-exclude-button[data-team="'+e+'"]').addClass("active"),$("#toast-cta-stack").addClass("hidden"),$("#toast-cta-exclude").removeClass("hidden"),$("#toast-cta-exclude-team").text(e),$("#toast-cta").addClass("open"),setTimeout(function(){$("#toast-cta").removeClass("open")},2E3);else{var b=jQuery.inArray(e,window.excludeTeams);
-1<b&&window.excludeTeams.splice(b,1);$('.matchup-filter[data-team="'+e+'"]').removeClass("excluded");$('.team-exclude-button[data-team="'+e+'"]').removeClass("active")}ga("send","event","exclude","exclude-team",a);redrawTeamExclusions(window.exclude.team_sorting);reSort();headerHandler();window.setTimeout(function(){redrawExcludeCounts()},350)});$(document).on("click",".swiper-slates-trigger",function(e){$(this).toggleClass("open");$(this).hasClass("open")?(ga("send","event","filters","slates-open",
"slates-open"),$(".swiper-slates-container").addClass("open")):$(".swiper-slates-container").removeClass("open")});$(document).on("click",".playerWindowTrigger",function(e){e.preventDefault();ga("send","event","player-popup","player-popup-open","player-popup-open");e=$(this).data("player_id");e=fetchPlayerData(window.players,"player_id",e);var a=window.teamMeta[window.sport][e.team];e.icon=window.cdn+"/logos/"+sport+"/"+e.team+window.logo_suffix[window.sport];var b="unlocked";window.pickDetails[window.activeLineup][e.player_id]&&
window.pickDetails[window.activeLineup][e.player_id].user_pick&&(b="locked");window.excludePlayers[e.player_id]&&(b="excluded");var d=$("div.ui-page-active .player-popup-mobile-template").html();if("nba"==window.sport)var c="L5 AVG Mins";else"nfl"==window.sport?c="Depth":"nhl"==window.sport?c="Lines":"mlb"==window.sport&&(c="Batting Order");var n=window.cdn+"/logos/"+window.sport+"/"+a.team_code+window.logo_suffix[window.sport],d=d.replace(/{player_state}/g,b),d=d.replace(/{consistency}/g,checkConsistency(e.consistency).value),
d=d.replace(/{consistency_color}/g,checkConsistency(e.consistency).color),d=d.replace(/{custom_label}/g,c),d=d.replace(/{first_name}/g,e.first_name),d=d.replace(/{icon}/g,n),d=d.replace(/{last_name}/g,e.last_name),d=d.replace(/{opp_rank}/g,e.opp_rank),d=d.replace(/{opp_rank_bucket}/g,e.opp_rank_bucket),d=d.replace(/{ppg}/g,e.ppg),d=d.replace(/{injury_status}/g,e.injury_status),d=d.replace(/{player_id}/g,e.player_id),d=d.replace(/{custom_value}/g,getMobileLines(e.depth_rank,e.pp_line,e.position_code,
e.mins_avg)),d=d.replace(/{player_position}/g,e.position_detailed),d=d.replace(/{team_name}/g,a.team_name),d=d.replace(/{salary}/g,e.salary),d=d.replace(/{team_nickname}/g,a.team_nickname.toUpperCase()),d=d.replace(/{value}/g,e.value);window.location.hash="popup";d=1==e.starter_flag?d.replace(/{starter_flag}/g,"CONFIRMED STARTER"):1==e.probable_flag?d.replace(/{starter_flag}/g,"PROBABLE STARTER"):d.replace(/{starter_flag}/g,"");$("#playerWindow .popup-container-mobile").empty().html(d);$("#playerWindow").addClass("open");
$("body").addClass("noscroll");$(".ui-page-active").addClass("blur");getChart(e.player_id,"ppg");getOdds(e.player_id);getMatchHistory(e.player_id,e.team,e.opp)});$(document).on("click","div.ui-page-active .optimizer-exclude, #playerWindow .optimizer-exclude",function(){var e=$(this).data("player_id"),a=fetchPlayerData(window.players,"player_id",e);ga("send","event","exclude","exclude-player","exclude-player");window.excludePlayers[a.player_id]=jQuery.extend({},a);if(window.pickDetails[window.activeLineup][a.player_id]){window.filter[sport].salary_cap=
[window.filter[sport].salary_cap[0]+a.salary];$("div.ui-page-active ul.listings").find("li[data-player_id='"+a.player_id+"']").removeClass("locked").removeClass("unlocked");var e=$("div.ui-page-active .mypicks-player-template-empty").html(),b=$("div.ui-page-active .sidebar-player-template-empty").html(),b=b.replace(/{position}/g,window.pickDetails[window.activeLineup][a.player_id].position_code),e=e.replace(/{position}/g,window.pickDetails[window.activeLineup][a.player_id].position_code),e=e.replace(/{state}/g,
"");$("div.ui-page-active ul.mypicks").find("li[data-player_id='"+a.player_id+"']").replaceWith(e);$("div.ui-page-active ul.mypicks-desktop").find("li[data-player_id='"+a.player_id+"']").replaceWith(b);delete window.pickDetails[window.activeLineup][a.player_id];reBase();redrawMyTeams()}closePopup();$("div.ui-page-active ul.listings").find("li[data-player_id='"+a.player_id+"']").addClass("collapse");$("div.ui-page-active ul.mypicks").find("li.row[data-player_id='"+a.player_id+"']").addClass("collapse");
window.setTimeout(function(){$("div.ui-page-active ul.listings").find("li[data-player_id='"+a.player_id+"']").addClass("excluded").removeClass("collapse");$("div.ui-page-active ul.mypicks").find("li.row[data-player_id='"+a.player_id+"']").addClass("excluded").removeClass("collapse");redrawExcludeCounts()},350)});$(document).on("click","div.ui-page-active .optimizer-return",function(){var a=$(this).data();$("div.ui-page-active ul.listings").find("li[data-player_id='"+a.player_id+"']").removeClass("excluded");
delete window.excludePlayers[a.player_id];redrawExcludeCounts()});$(document).on("click","div.ui-page-active .mypicks_download",function(){var a=0,b=0,c=0,d=[],k;for(k in window.pickDetails[0])c=[],c.push(window.pickDetails[0][k].first_name),c.push(window.pickDetails[0][k].last_name),c.push(window.pickDetails[0][k].position_code),c.push(window.pickDetails[0][k].team),c.push(window.pickDetails[0][k].opp),c.push(window.pickDetails[0][k].salary),c.push(window.pickDetails[0][k].ppg),c.push(window.pickDetails[0][k].value),
a+=window.pickDetails[0][k].salary,b+=parseFloat(window.pickDetails[0][k].ppg),d.push(c);var c=0<a?parseFloat(b/(a/1E3)).toFixed(2):0,n="first_name,last_name,position,team,opp,salary,ppg_projection,value_projection\n";k=Math.floor(Date.now()/1E3);d.forEach(function(a){n+=a.join(",");n+="\n"});n+=",,,,,"+a+","+b+","+c+"\n";a=new Blob([n],{type:"text/csv;charset=utf-8;"});b="DFF_"+window.sport+"_lineup_"+k+".csv";navigator.msSaveBlob?navigator.msSaveBlob(a,b):(a=document.createElement("a"),document.body.appendChild(a),
a.href="data:text/csv;charset=utf-8,"+encodeURI(n),a.target="_blank",a.download=b,a.click())});$(document).on("click","div.ui-page-active .mypicks_reset",function(){var a=0,b;for(b in window.pickDetails[window.activeLineup])window.pickDetails[window.activeLineup][b].user_pick||a++;if(0<a)for(b in window.pickDetails[window.activeLineup])window.pickDetails[window.activeLineup][b].user_pick||delete window.pickDetails[window.activeLineup][b];else window.pickDetails[window.activeLineup]={};redrawSalary();
redrawProjections();redrawPickCounts();redrawMyPicks();redrawMyTeams();applyPicksFade();ga("send","event","mypicks","mypicks-reset","mypicks-reset")});$(document).on("click","div.ui-page-active .optimize-cta-trigger, div.ui-page-active .optimize-cta-sidebar-trigger",function(){function a(){if(window.players){redrawPickCounts();redrawSalary();var d=buildOptimizerArray(0,window.activeLineup),c=(new Date).getTime();ga("send","event","optimizer","optimizer-run",b);$.ajax({url:"https://iudpzstv7k.execute-api.us-west-2.amazonaws.com/api/linelookup/"+
window.sport+"/"+window.platform+"/",dataType:"json",contentType:"application/json; charset=UTF-8",type:"POST",data:JSON.stringify(d),statusCode:{500:function(){$("div.ui-page-active .optimize-cta-trigger, div.ui-page-active #optimize-cta-sidebar .optimize-cta-sidebar-trigger").removeClass("processing").addClass("error");window.setTimeout(function(){$("div.ui-page-active .optimize-cta-trigger, div.ui-page-active #optimize-cta-sidebar .optimize-cta-sidebar-trigger").removeClass("error");redrawSalary();
redrawProjections();redrawPickCounts();redrawMyPicks();applyPicksFade()},2E3)}},success:function(a){var e=(new Date).getTime(),e=2E3<=e-c?0:2E3-(e-c),d=a.errorMessage?0:Object.keys(a.result).length;processLineLookup(a);0==d?(window.setTimeout(function(){$("div.ui-page-active .optimize-cta-trigger, div.ui-page-active #optimize-cta-sidebar .optimize-cta-sidebar-trigger").removeClass("processing").addClass("error")},e),window.setTimeout(function(){$("div.ui-page-active .optimize-cta-trigger, div.ui-page-active #optimize-cta-sidebar .optimize-cta-sidebar-trigger").removeClass("error");
redrawMyPicks()},e+2500)):window.setTimeout(function(){$("div.ui-page-active .optimize-cta-trigger, div.ui-page-active .optimize-cta-sidebar-trigger").removeClass("processing");if("global"==b){window.pickDetails=[window.pickDetails[window.activeLineup],{},{},{},{}];window.activeLineup=0;redrawSalary();redrawProjections();redrawPickCounts();redrawMyPicks();applyPicksFade();var a=getTakeouts(window.pickDetails[0]);window.setTimeout(function(){getMorePicks(a[0],1)},100);$(".line-filter-item").removeClass("disabled");
window.setTimeout(function(){getMorePicks(a[1],2)},350);window.setTimeout(function(){getMorePicks(a[2],3)},500);window.setTimeout(function(){getMorePicks(a[3],4)},700)}else redrawSalary(),redrawProjections(),redrawPickCounts(),redrawMyPicks(),applyPicksFade()},e)}})}else window.setTimeout(a,350)}if(!($(this).hasClass("disabled")||$(this).hasClass("filter")||$(this).hasClass("error")||$(this).hasClass("processing"))){$(this).addClass("processing");var b=$(this).data("type")||"global";"global"==b&&
$(".line-filter-container").each(function(){$(".line-filter-item:not(:first)",this).addClass("disabled").removeClass("active");$(".line-filter-item:first",this).addClass("active")});"mobile"==$(this).data("value")&&"#myLineup"!=$("div.ui-page-active").data("view")&&($("div.ui-page-active").attr("data-view","#myLineup").data("view","#myLineup"),$("html, body").animate({scrollTop:0},0));var c=0,d;for(d in window.pickDetails[window.activeLineup])window.pickDetails[window.activeLineup][d].user_pick?c++:
delete window.pickDetails[activeLineup][d];redrawMyPicks("loading");$.now();a()}});$(document).on("click",".optimizer-add, .optimizer-remove",function(a){a.preventDefault();a=$(this).data("player_id");a=fetchPlayerData(window.players,"player_id",a);var b=a.position_code,c=dff.positionMeta[b].position_slots,b=dff.positionMeta[b].position_filled;window.excludePlayers&&window.excludePlayers[a.player_id]&&(delete window.excludePlayers[a.player_id],$("div.ui-page-active ul.listings").find("li[data-player_id='"+
a.player_id+"']").removeClass("excluded"),$("div.ui-page-active ul.mypicks").find("li[data-player_id='"+a.player_id+"']").removeClass("excluded"),redrawExcludeCounts());if($(this).hasClass("optimizer-add")){if(window.pickDetails[window.activeLineup][a.player_id]&&window.pickDetails[window.activeLineup][a.player_id].user_pick)return;if(window.pickDetails[window.activeLineup][a.player_id])window.pickDetails[window.activeLineup][a.player_id].user_pick=!0,redrawMyPicks();else if(0==c-b)if(c=checkWildcard(a.position_code),
1==c.eligible)window.filter[sport].salary_cap=[window.filter[sport].salary_cap-a.salary],$("div.ui-page-active ul.listings").find("li[data-player_id='"+a.player_id+"']").addClass("locked"),window.pickDetails[window.activeLineup][a.player_id]=jQuery.extend({},a),window.pickDetails[window.activeLineup][a.player_id].position_code=c.position_code,window.pickDetails[window.activeLineup][a.player_id].user_pick=!0;else{var d=$("div.ui-page-active #optimize-cta-sidebar .optimize-cta-label-error").text();
$("div.ui-page-active #optimize-cta-sidebar .optimize-cta-label-error").empty().text("SLOT FULL");window.setTimeout(function(){$("div.ui-page-active .optimize-cta-trigger, div.ui-page-active #optimize-cta-sidebar .optimize-cta-sidebar-trigger").removeClass("processing").addClass("error")},200);window.setTimeout(function(){$("div.ui-page-active #optimize-cta-sidebar .optimize-cta-label-error").empty().text(d);$("div.ui-page-active .optimize-cta-trigger, div.ui-page-active #optimize-cta-sidebar .optimize-cta-sidebar-trigger").removeClass("error")},
2E3)}else window.filter[sport].salary_cap=[window.filter[sport].salary_cap-a.salary],$("div.ui-page-active ul.listings").find("li[data-player_id='"+a.player_id+"']").addClass("locked"),window.pickDetails[window.activeLineup][a.player_id]=jQuery.extend({},a),window.pickDetails[window.activeLineup][a.player_id].user_pick=!0;redrawMyPicks()}else if($(this).hasClass("optimizer-remove")&&window.pickDetails[window.activeLineup][a.player_id]){c=$("div.ui-page-active .mypicks-player-template-empty").html();
b=$("div.ui-page-active .sidebar-player-template-empty").html();c=c.replace(/{position}/g,window.pickDetails[window.activeLineup][a.player_id].position_code);b=b.replace(/{position}/g,window.pickDetails[window.activeLineup][a.player_id].position_code);c=c.replace(/{state}/g,"");window.filter[sport].salary_cap=[window.filter[sport].salary_cap[0]+a.salary];var k=$("div.ui-page-active ul.listings").find("li[data-player_id='"+a.player_id+"']");$(k).removeClass("locked").removeClass("unlocked");$("div.ui-page-active ul.mypicks").find("li[data-player_id='"+
a.player_id+"']").replaceWith(c);$("div.ui-page-active ul.mypicks-desktop").find("li[data-player_id='"+a.player_id+"']").replaceWith(b);delete window.pickDetails[window.activeLineup][a.player_id];redrawMyTeams()}redrawPickCounts();("mobile"==$(this).data("source")||$(this).hasClass("optimizer-add")||$(this).hasClass("optimizer-remove"))&&closePopup();addCommas(window.filter[sport].salary_cap);reBase()});$(document).on("click","ul.optimizer-tabs div",function(){var a=$(this).data("view");$("div.ui-page-active").attr("data-view",
a).data("view",a)});$(document).on("click",".dynamic-popup-close, .desktop-popup-close, div.ui-page-active.blur",function(a){closePopup()});$(document).on("click","#ovd-input",function(){ga("send","event","optimizer","optimizer-config","ovd-toggle");1==$(this).prop("checked")?window.filter[sport].ovd=!0:window.filter[sport].ovd=!1});$(document).on("click","input[data-toggle=flex]",function(){ga("send","event","optimizer","optimizer-config","flex-toggle");var a=$(this).data("value"),b=window.filter[sport].flex.indexOf(a);
1==$(this).prop("checked")&&-1==b?window.filter[sport].flex.push(a):-1!==b&&window.filter[sport].flex.splice(b,1);"nfl"==window.sport?$(".optimizer-settings-flex-label").text("Flex Positions \u00b7 "+window.filter[sport].flex.length):$(".optimizer-settings-flex-label").text("Utility Positions \u00b7 "+window.filter[sport].flex.length)});$(document).on("click","input[data-toggle=players-max]",function(){ga("send","event","optimizer","optimizer-players","max-toggle");var a=$(this).data("value");$("input[data-toggle=players-max]").not($(this)).prop("checked",
!1);$(this).prop("checked",!0);window.maxPlayers[platform]=a});$(document).on("click","div.stacking-input",function(){ga("send","event","optimizer","optimizer-config","stack-selection");var a=$(this).data("team")||"",b=$(this).data("label")||"";window.filter[sport].stack==a?($(".desktop-selected-stack-container").addClass("hidden"),$(".mypicks-teams-item-stack.stacking-input").removeClass("active"),window.filter[sport].stack=""):($(".desktop-selected-stack-container").removeClass("hidden"),$(".desktop-selected-stack-label").text(b),
$(".mypicks-teams-item-stack.stacking-input").removeClass("active"),$('.mypicks-teams-item-stack.stacking-input[data-team="'+a+'"]').addClass("active"),$("#toast-cta-stack").removeClass("hidden"),$("#toast-cta-exclude").addClass("hidden"),$("#toast-cta-stack-team").text(a),$("#toast-cta").addClass("open"),setTimeout(function(){$("#toast-cta").removeClass("open")},3E3),window.filter[sport].stack=a)});$(document).on("click",".desktop-selected-stack-close",function(){$(".desktop-selected-stack-container").addClass("hidden");
window.filter[sport].stack="";$(".mypicks-teams-item-stack.stacking-input").removeClass("active")});$(document).on("click",".optimizer-settings-stacking-toggle",function(){$(".optimizer-settings-stacking-container").toggleClass("open");$(".optimizer-settings-stacking-container").hasClass("open")?($(".optimizer-settings-flex-container").removeClass("open"),$(".optimizer-settings-ovd-container").removeClass("open"),$("#makePicks-listings").addClass("faded-dk").addClass("noclick"),$(document).on("click",
genericPopupCloser)):($(document).off("click",genericPopupCloser),$("#makePicks-listings").removeClass("faded-dk").removeClass("noclick"))});$(document).on("click",".optimizer-settings-ovd-toggle",function(){$(".optimizer-settings-ovd-container").toggleClass("open");$(".optimizer-settings-ovd-container").hasClass("open")?($(".optimizer-settings-flex-container").removeClass("open"),$(".optimizer-settings-stacking-container").removeClass("open"),$("#makePicks-listings").addClass("faded-dk").addClass("noclick"),
$(document).on("click",genericPopupCloser)):($(document).off("click",genericPopupCloser),$("#makePicks-listings").removeClass("faded-dk").removeClass("noclick"))});$(document).on("click",".optimizer-settings-flex-toggle",function(){$(".optimizer-settings-flex-container").toggleClass("open");$(".optimizer-settings-flex-container").hasClass("open")?($(".optimizer-settings-ovd-container").removeClass("open"),$(".optimizer-settings-stacking-container").removeClass("open"),$("#makePicks-listings").addClass("faded-dk").addClass("noclick"),
$(document).on("click",genericPopupCloser)):($(document).off("click",genericPopupCloser),$("#makePicks-listings").removeClass("faded-dk").removeClass("noclick"))});$(document).on("click",".sort-option",function(){if(!$(this).hasClass("sort-selected")){var a=$(this).data("value");$("div.sort-option").not('[data-value="'+a+'"]').removeClass("sort-selected");$('div.sort-option[data-value="'+a+'"]').addClass("sort-selected");reSort()}});$(document).on("click",".excluded-sort-option",function(){var a=
$(this).data("sort");window.exclude.team_sorting=a;window.exclude.team_order="asc"==window.exclude.team_order?"desc":"asc";$("ul.excluded-mobile-teams-header .excluded-sort-option span").removeClass("border-lt").addClass("border-invisible");$(this).children("span").removeClass("border-invisible").addClass("border-lt");redrawTeamExclusions(a)});$(document).on("click",".load_more",function(){reSort();headerHandler();ga("send","event","player-listings","show-more","show-more")});$(document).on("click",
".depth-filter-item",function(){$(this).toggleClass("active");if($(this).hasClass("active")){var a=$(this).data("value");$('div.ui-page-active .depth-filter-item[data-value="'+a+'"]').addClass("active");window.filter[sport].depth.push(a)}else{var a=$(this).data("value"),b=jQuery.inArray($(this).data("value"),window.filter[sport].depth);window.filter[sport].depth.splice(b,1);$('div.ui-page-active .depth-filter-item[data-value="'+a+'"]').removeClass("active")}reSort()});$(document).on("click",".pool-filter-item",
function(){if(!$(this).hasClass("active")){var a=$(this).data("value");$("div.ui-page-active .pool-filter-item").removeClass("active");$('div.ui-page-active .pool-filter-item[data-value="'+a+'"]').addClass("active");$("#listings").attr("data-view",a).data("view",a);var a=document.getElementById("listings"),b=document.body.getBoundingClientRect().top,a=a.getBoundingClientRect().top-b;window.pageYOffset>=a&&window.scrollTo({top:a})}});$(document).on("click",".line-filter-item",function(){if(!($(this).hasClass("disabled")||
0==$(this).siblings(".active").length&$(this).hasClass("active"))){var a=$(this).data("index");$(".line-filter-item").removeClass("active");$('.line-filter-item[data-index="'+a+'"]').addClass("active");window.activeLineup=$(this).data("index");redrawMyPicks("toggle");redrawSalary();redrawProjections();redrawPickCounts();applyPicksFade();redrawMyTeams();ga("send","event","mypicks","mypicks-line-toggle","mypicks-line-toggle-"+window.activeLineup)}});$(document).on("click",".position-filter-item",function(){if(!(0==
$(this).siblings(".active").length&$(this).hasClass("position-filter-all")&$(this).hasClass("active")||0==$(this).siblings(".active").length&$(this).hasClass("active"))){$(this).toggleClass("active");if($(this).hasClass("active")&$(this).hasClass("position-filter-all"))$("div.ui-page-active .position-filter-item").not($(this)).removeClass("active"),window.filter[sport].position=[];else if($(this).hasClass("active"))$("div.ui-page-active .position-filter-all").removeClass("active"),window.filter[sport].position.push($(this).data("value"));
else{var a=jQuery.inArray($(this).data("value"),window.filter[sport].position);window.filter[sport].position.splice(a,1)}reSort()}});$(document).on("click",".matchup-filter",function(a){if("all"==$(this).data("filter"))window.excludeTeams=[],$(".matchup-filter[data-team]").removeClass("excluded");else if("none"==$(this).data("filter")){window.excludeTeams=[];for(a=0;a<window.matches.length;a++)window.excludeTeams.push(window.matches[a].home_code),window.excludeTeams.push(window.matches[a].away_code);
$(".matchup-filter[data-team]").addClass("excluded")}else $(this).toggleClass("excluded"),$(this).hasClass("excluded")?(window.excludeTeams.push($(this).data("team")),ga("send","event","exclude","exclude-team","exclude-team-slider")):(a=jQuery.inArray($(this).data("team"),window.excludeTeams),-1<a&&window.excludeTeams.splice(a,1));redrawTeamExclusions(window.exclude.team_sorting);reSort();headerHandler();window.setTimeout(function(){redrawExcludeCounts()},350)});$("#slider-salary").on("change",function(){window.filter[sport].salary_range_min=
[$("#filterWindow #salary_filter_min_rate").val()];window.filter[sport].salary_range_max=[$("#filterWindow #salary_filter_max_rate").val()];reSort()});$("#slider-salary-opt").on("change",function(){window.filter[sport].opt_salary_min=[$("#settingsWindow #salary_opt_filter_min_rate").val()];window.filter[sport].opt_salary_max=[$("#settingsWindow #salary_opt_filter_max_rate").val()]});$("#slider-ppg").on("change",function(){window.filter[sport].ppg_range_min=[$("#filterWindow #ppg_filter_min_rate").val()];
window.filter[sport].ppg_range_max=[$("#filterWindow #ppg_filter_max_rate").val()];reSort()});$("#slider-value").on("change",function(){window.filter[sport].value_range_min=[$("#filterWindow #value_filter_min_rate").val()];reSort()});$("#slider-opp-rank").on("change",function(){window.filter[sport].opp_rank_range_min=[$("#filterWindow #opp_rank_filter_min_rate").val()];window.filter[sport].opp_rank_range_max=[$("#filterWindow #opp_rank_filter_max_rate").val()];reSort()});new Swiper("div.ui-page-active .swiper-container",
{slidesPerView:"auto",spaceBetween:10,simulateTouch:!1,scrollbarDraggable:!1,slidesPerGroup:3,freeMode:!1,breakpoints:{640:{slidesPerGroup:2,spaceBetweenSlides:10},2500:{slidesPerGroup:3,spaceBetweenSlides:10}},nextButton:".swiper-button-next",prevButton:".swiper-button-prev"});initSliders();window.dff={};dff.wildcards=window.slot_wildcards[window.platform][window.sport];dff.positionMeta=window.positionMeta[window.platform][window.sport];dff.maxPicks=window.maxPicks[window.platform][window.sport];
$.ajax({url:"/data/playerdetails/"+window.sport+"/"+window.platform+"/"+window.nextmatch,success:function(a){window.players=a}});$.ajax({url:"/data/slates/next/"+window.sport+"/"+window.platform,success:function(a){var b="";window.slates=a;for(a=0;a<window.slates.length;a++)var c=$("div.ui-page-active .slate-template").html(),c=c.replace(/{sport}/g,window.sport),c=c.replace(/{platform}/g,window.platform),c=c.replace(/{team_count}/g,window.slates[a].team_count),c=c.replace(/{start_string}/g,window.slates[a].start_string),
c=c.replace(/{slate_type}/g,0<window.slates[a].slate_type.length?" \u00b7 "+window.slates[a].slate_type:""),c=c.replace(/{slate_url}/g,encodeURIComponent(window.slates[a].slate_type).replace(/%20/g,"+")),b=b+c;$("div.ui-page-active div.swiper-slates-target").empty().html(b)}})});function addCommas(a){return(a+"").replace(/(\d)(?=(\d{3})+$)/g,"$1,")}function calcValue(a,b,c){a={};a.value=(parseFloat(c).toFixed(2)/(b/1E3)).toFixed(1);return a}
function reSortStacks(){$("#desktop-stacking-wrapper .stacking-team-container").sort(function(a,b){return(""+$(a).data("team")).localeCompare($(b).data("team"))}).appendTo("#desktop-stacking-wrapper")}
function redrawPickCounts(){var a=0,b=0;Object.keys(dff.positionMeta);for(var c in dff.positionMeta){dff.positionMeta[c].position_filled=0;for(var e in window.pickDetails[window.activeLineup])window.pickDetails[window.activeLineup][e].position_code==c&&(dff.positionMeta[c].position_filled++,a++,window.pickDetails[window.activeLineup][e].user_pick&&b++)}$("div.ui-page-active #optimize-cta .optimize-cta-count").empty().html(b);b==dff.maxPicks?$("div.ui-page-active #optimize-cta .optimize-cta-trigger, div.ui-page-active #optimize-cta-sidebar .optimize-cta-sidebar-trigger").addClass("disabled"):
$("div.ui-page-active #optimize-cta .optimize-cta-trigger, div.ui-page-active #optimize-cta-sidebar .optimize-cta-sidebar-trigger").removeClass("disabled")}
function redrawTeamExclusions(a){var b="",c="asc"==window.exclude.team_order?1:-1,e=jQuery.extend({},window.teamMeta[window.sport]),m=[],l;for(l in e){var d=e[l];if(d.kickoff){d.team_code=l;d.odds_color="text-grey-dk";d.over_under_color="text-grey-dk";d.proj_score_color="text-grey-dk";d.over_under_status&&d.over_under_status.length&&("high"==d.over_under_status?d.over_under_color="text-green-md":"low"==d.over_under_status&&(d.over_under_color="text-rose"));d.proj_score_status&&d.proj_score_status.length&&
("high"==d.proj_score_status?d.proj_score_color="text-green-md":"low"==d.proj_score_status&&(d.proj_score_color="text-rose"));if("nhl"==window.sport&&null==d.odds_value||"mlb"==window.sport&&null==d.odds_value||"nba"==window.sport&&null==d.spread||"nfl"==window.sport&&null==d.spread)d.odds_value_sortable=999;else if(d.odds_value_sortable="nhl"==window.sport||"mlb"==window.sport?parseInt(d.odds_value.replace("+","")):parseFloat(d.spread.replace("+","")),"nhl"==window.sport||"mlb"==window.sport)d.odds_value_sortable=
parseInt(d.odds_value.replace("+","")),-125>=d.odds_value_sortable?d.odds_color="text-green-md":125<=d.odds_value_sortable&&(d.odds_color="text-rose");else if("nba"==window.sport||"nfl"==window.sport)-2.5>=d.odds_value_sortable?d.odds_color="text-green-md":2.5<=d.odds_value_sortable&&(d.odds_color="text-rose");m.push(d)}}m.sort(firstBy(a,c));for(a=0;a<m.length;a++){c=m[a];d=l=e="";-1<jQuery.inArray(c.team_code,window.excludeTeams)&&(d="bg-offwhite",l="faded-md",e="active");var k="nba"==window.sport||
"nfl"==window.sport?null==c.spread||0==c.spread.length?"":c.spread.replace(".50",".5"):null==c.odds_value||0==c.odds_value.length?"":c.odds_value,n=null==c.over_under||0==c.over_under.length?"":c.over_under,h=null==c.proj_score||0==c.proj_score.length?"":c.proj_score.substring(0,c.proj_score.length-1),f=window.cdn+"/logos/"+sport+"/"+c.team_code+window.logo_suffix[window.sport],g=$("div.ui-page-active .excluded-team-template").html(),g=g.replace(/{icon}/g,f),g=g.replace(/{team_name}/g,c.team_code),
g=g.replace(/{team_code}/g,c.team_code),g=g.replace(/{odds}/g,k),g=g.replace(/{proj_score}/g,h),g=g.replace(/{proj_score_color}/g,c.proj_score_color),g=g.replace(/{odds_color}/g,c.odds_color),g=g.replace(/{faded_text}/g,l),g=g.replace(/{faded_bg}/g,d),g=g.replace(/{active}/g,e),g=g.replace(/{over_under}/g,n),g=g.replace(/{over_under_color}/g,c.over_under_color),b=b+g}$("div.ui-page-active ul.excluded-mobile-teams").empty().html(b)}
function getMatchHistory(a,b,c){$.ajax({url:"/matchupstats/"+window.sport+"/?playerID="+a+"&platform="+window.platform+"&opp="+c+"&team="+b,success:function(a){$("div.popup-mobile-h2h").empty().html(a)}})}
function getOdds(a){var b=$("div.ui-page-active .player-analytics-tooltip-mobile").html(),c=fetchPlayerData(window.players,"player_id",a);a=window.teamMeta[window.sport][c.team];var c=window.teamMeta[window.sport][c.opp],e="home"==a.location?"vs":"@",m=getOutcome(a),l="nhl"==window.sport||"mlb"==window.sport?a.odds_value:a.spread,d=null==a.over_under||0==a.over_under.length?"":a.over_under,k=1==a.proj_win?"win":1==c.proj_win?"lose":"tie",n="heavy fav"==a.odds_name_detailed?"heavy favorites":"heavy dog"==
a.odds_name_detailed?"heavy underdogs":"even"==a.odds_name_detailed&&"win"==k?"slight favorites":"even"==a.odds_name_detailed&&"lose"==k?"slight underdogs":"fav"==a.odds_name_detailed?"favorites":"dog"==a.odds_name_detailed?"underdogs":"neck and neck",h="high"==a.over_under_status?", in what's expected to be a high scoring game.":"low"==a.over_under_status?', in what\'s expected to be a <span class="text-rose normal">low scoring game.</span>':".",m="nhl"==window.sport&&""!=d?"Vegas has the "+a.team_nickname+
" as "+n+" to "+k+" against the "+c.team_nickname+h:""!=d?"Vegas has the "+a.team_nickname+" as "+n+" to "+k+" "+m+" against the "+c.team_nickname+h:"Vegas odds are still being finalized for this matchup.",k=-2>=a.streak&&-2>=c.streak?"Both team are trying to snap losing streaks. The "+a.team_nickname+" have lost "+Math.abs(a.streak)+" games in a row and the "+c.team_nickname+" have lost their last "+Math.abs(c.streak):-2>=a.streak&&3<=c.streak?"The "+a.team_nickname+' are trying to turn around a <span class="text-rose normal"> '+
Math.abs(a.streak)+" game losing streak</span> against a "+c.team_nickname+" team that is running hot.":-2>=a.streak?"The "+a.team_nickname+' are trying to snap a <span class="text-rose normal">'+Math.abs(a.streak)+" game losing streak</span>":2<=a.streak&&2<=c.streak?"Both team are running hot. The "+a.team_nickname+" have won "+Math.abs(a.streak)+" games in a row and the "+c.team_nickname+" have won their last "+Math.abs(c.streak)+".":2<=a.streak&&-3>=c.streak?"The "+a.team_nickname+" are running hot with "+
a.streak+" wins in a row against a struggling "+c.team_nickname+" team that has lost their last "+Math.abs(c.streak)+".":2<=a.streak?"The "+a.team_nickname+" are trying to extend their "+a.streak+" game win streak.":"",b=b.replace(/{opp_name}/g,c.team_nickname),b=b.replace(/{odds_name}/g,a.odds_name.toUpperCase()),b=b.replace(/{odds_value}/g,null===l?"":l),b=b.replace(/{odds_color}/g,a.odds_color),b=b.replace(/{over_under}/g,d),b=b.replace(/{location}/g,e),b=b.replace(/{vegas_statement}/g,m),b=b.replace(/{streak_statement}/g,
k);$("#playerWindow .popup-mobile-odds").empty().html(b)}function getTakeouts(a){var b=[];Object.keys(a).forEach(function(c){!a[c].user_pick&&4>b.length&&b.push(c)});return b}
function getMorePicks(a,b){if(a){var c=buildOptimizerArray(a,b);$.ajax({url:"https://iudpzstv7k.execute-api.us-west-2.amazonaws.com/api/linelookup/"+window.sport+"/"+window.platform+"/",dataType:"json",contentType:"application/json; charset=UTF-8",type:"POST",data:JSON.stringify(c),statusCode:{500:function(){console.log("error")}},success:function(a){if(0!=(a.errorMessage?0:Object.keys(a.result).length)){a=a.result;for(var c in a)window.pickDetails[b][c]||(window.pickDetails[b][c]=jQuery.extend({},
fetchPlayerData(window.players,"player_id",c))),window.pickDetails[b][c].position_code=a[c]}}})}}function getChart(a,b){$.ajax({url:"/playerstats/"+window.sport+"/?playerID="+a+"&platform="+window.platform+"&match="+window.nextmatch,success:function(c){$("#playerWindow").find(".chart-loading").replaceWith('<div class="chart" style="height:100%;width:100%;position:absolute;"></div>');drawSingleChart(a,b,c)}})}function getSidebarPPLine(a,b){return 0==a||"nba"==window.sport||"G"==b?"":"PP"+a}
function checkWildcard(a){for(var b=0;b<dff.positionMeta[a].wildcards.length;b++){var c=dff.positionMeta[a].wildcards[b];if(0<dff.positionMeta[c].position_slots-dff.positionMeta[c].position_filled)return a={eligible:!0,position_code:c}}return a={eligible:!1,position_code:""}}
function checkConsistency(a){var b={value:"N/A",color:"text-grey-lt"};.2>=a?(b.value="VERY LOW",b.color="text-rose"):.4>=a?(b.value="LOW",b.color="text-rose"):.5>=a?(b.value="AVG",b.color="text-grey-lt"):(b.value=.7>=a?"HIGH":"VERY HIGH",b.color="text-green-lt");return b}
function getOutcome(a){if(0<a.odds_name.length&&0<a.over_under.length&&("nfl"==window.sport||"nba"==window.sport)){var b=(parseFloat(a.over_under)-a.odds_value_sortable)/2;a=(parseFloat(a.over_under)+a.odds_value_sortable)/2;b=b+" - "+a}return b||""}
function getMobileLines(a,b,c,e){return null===a&&null==b||"nba"==window.sport&&null==e?"-":"nba"==window.sport?e:"mlb"==window.sport&&0<parseInt(a)?a+'<span class="supdollar" data-dvp_rank="'+a+'"></span>':"G"!=c&&null!==b&&0<parseInt(b)&&0<parseInt(a)?"REG"+a+",PP"+b:"G"!=c&&0<parseInt(b)?"PP"+b:"G"!=c&&"nfl"==window.sport&&0<parseInt(a)?c+a:"G"!=c&&0<parseInt(a)?"REG"+a:"G"==c&&null!==a?"G"+a:"-"}
function drawSingleChart(a,b,c){a=$("#playerWindow").find(".mobile-chart");new Highcharts.Chart({chart:{renderTo:a[0],spacingTop:30,marginLeft:25,marginRight:25},tooltip:{enabled:!1},xAxis:{lineWidth:0,categories:c[b].categories,labels:{formatter:function(){var a=this.axis.categories.indexOf(this.value);return'<div class="text-grey-dk thin font-h5 row-space-1 hidden-xs">'+this.value+'</div><img class="font-h6" src="https://dff-images.s3.amazonaws.com'+this.chart.series[0].options.opp[a]+'" alt="" style="vertical-align: middle; height: 3.8em;width:3.8em;position:relative;"/>'},
autoRotation:!1,useHTML:!0,style:{fontSize:"1em"}}},title:{text:"",enabled:!1},yAxis:{tickInterval:1,endOnTick:!1,labels:{enabled:!1},allowDecimals:!1,reversed:!1},plotOptions:{series:{marker:{enabled:!1},pointPadding:.05,groupPadding:0,borderWidth:0,states:{hover:{enabled:!1}}},column:{dataLabels:{enabled:!0,crop:!1,verticalAlign:"top",y:-40,zIndex:999,overflow:"none",color:"black",useHTML:!0,style:{textShadow:!1,fontSize:"1.2em",fontWeight:"300",fontFamily:"Open Sans"},formatter:function(){return"noplay"==
this.point.status?'<span class="text-rose normal font-h5">OUT</span>':"incomplete"==this.point.status?"TBD":"future"==this.point.status?'<span class="text-copper bold">'+Highcharts.numberFormat(this.y,1)+"</span>":Highcharts.numberFormat(this.y,1)}}}},series:[{name:"",opp:c[b].opp,salary:c[b].salary,type:"column",animation:{duration:650},data:c[b].values}]})}function findInObject(a,b,c,e){for(i=0;i<a.length;i++)if(a[i][b]==c)return a[i][e];return null}
function processLineLookup(a){a=a.result;for(var b in a)window.pickDetails[window.activeLineup][b]||(window.pickDetails[window.activeLineup][b]=jQuery.extend({},fetchPlayerData(window.players,"player_id",b))),window.pickDetails[window.activeLineup][b].position_code=a[b]}function fetchPlayerData(a,b,c){for(i=0;i<a.length;i++)if(a[i][b]==c)return a[i];return null}
function redrawSalary(){window.filter[sport].salary_cap=[window.maxSalary];for(var a in window.pickDetails[window.activeLineup])window.filter[sport].salary_cap=[window.filter[sport].salary_cap[0]-window.pickDetails[window.activeLineup][a].salary];a='<span class="supdollar">$</span>'+addCommas(window.filter[sport].salary_cap);$("div.ui-page-active .salary_remaining_value").empty().html(a)}function reBase(){redrawPickCounts();redrawSalary();redrawProjections();applyPicksFade();headerHandler()}
function redrawExcludeCounts(){var a=0,b=0,c=$("#listings li.row.excluded").length,e;for(e in window.excludePlayers)a++;for(e=0;e<window.excludeTeams.length;e++)b++;0==b?($("div.ui-page-active .optimizer-tab-excluded-count").empty().html(b).hide(),$("div.ui-page-active #team-excluded-count").empty()):($("div.ui-page-active .optimizer-tab-excluded-count").empty().html(b).show(),$("div.ui-page-active #team-excluded-count").html("&nbsp;\u00b7 "+b+" Excluded"));$("div.ui-page-active .players_excluded_value").empty().html(a).show();
$("div.ui-page-active .pool-excluded-value").attr("data-value",c).data("value",c);$("div.ui-page-active .teams_excluded_value").empty().html(b).show()}
function redrawProjections(){var a=0,b=0,c;for(c in window.pickDetails[window.activeLineup])a+=parseFloat(window.pickDetails[window.activeLineup][c].ppg),b+=parseInt(window.pickDetails[window.activeLineup][c].salary);c=parseFloat($("div.ui-page-active .desktop-sidebar-lineup-content .points_projected_value").text());var e=parseFloat($("div.ui-page-active .value_projected_value").text());if(c!=a){var m=Math.pow(10,1),b=0==b||isNaN(b)?(0).toFixed(1):parseFloat(1E3*a/b).toFixed(1);$("div.ui-page-active .points_projected_value").prop("number",
c*m).animateNumber({number:a*m,numberStep:function(a,b){var c=Math.floor(a)/m,e=$(b.elem),c=c.toFixed(1);e.text(c)}},500);$("div.ui-page-active .value_projected_value").prop("number",e*m).animateNumber({number:b*m,numberStep:function(a,b){var c=Math.floor(a)/m,e=$(b.elem),c=c.toFixed(1);e.text(c)}},500)}}
function applyPicksFade(){$("div.ui-page-active ul.listings li.row").each(function(a){a=$(this).data("position");var b=$(this).data("player_id"),c=dff.positionMeta[a].position_slots,e=dff.positionMeta[a].position_filled;window.pickDetails[window.activeLineup][b]?($(this).removeClass("photo_cover_nopick"),window.pickDetails[window.activeLineup][b].user_pick&&$(this).addClass("locked")):$(this).data("salary")>window.filter[sport].salary_cap?$(this).addClass("photo_cover_nopick").removeClass("locked").removeClass("unlocked"):
0>=c-e?0==checkWildcard(a).eligible?$(this).addClass("photo_cover_nopick").removeClass("locked").removeClass("unlocked"):$(this).removeClass("photo_cover_nopick").removeClass("locked").removeClass("unlocked"):$(this).removeClass("photo_cover_nopick").removeClass("locked").removeClass("unlocked")})}function capitalizeFirstLetter(a){return a.charAt(0).toUpperCase()+a.slice(1)}
function redrawMyPicks(a){var b=[],c={},e={},m="",l="";"toggle"!=a&&$("div.ui-page-active ul.mypicks li.row").each(function(a){if($(this).data("player_id")){var b=$(this).data("player_id");e[a]=b;c[b]=a}});for(var d=0;d<window.positionsOrder[window.platform][sport].length;d++){var k=0,n;for(n in window.pickDetails[window.activeLineup]){var h=window.pickDetails[window.activeLineup][n];if(1==k)k=1;else if(!(e[d]&&e[d]!=n||c[n]&&c[n]!=d||-1!=$.inArray(n,b)||h.position_code!=window.positionsOrder[window.platform][window.sport][d])){b.push(n);
var k=1,f=$("div.ui-page-active .mypicks-template-mobile").html(),g=$("div.ui-page-active .player-sidebar-template").html(),p=window.cdn+"/logos/"+window.sport+"/"+h.team+window.logo_suffix[window.sport],q="";"1"==h.starter_flag||"1"==h.probable_flag?q='<span><i class="fa fa-check-circle text-blue-md" aria-hidden="true"></i></span>':"mlb"==window.sport&&h.depth_rank&&"P"!=h.position_code&&0<h.depth_rank&&(q='<span class="text-green-lt bold">\u2713 '+h.depth_rank+"</span>");var r=getSidebarPPLine(h.pp_line,
h.position_code),v="PP1"==r?"text-blue-md bold":"PP2"==r?"text-orange bold":"",f=f.replace(/{position_detailed}/g,"mlb"!=window.sport?h.position_detailed+h.depth_rank.toString().replace("0",""):h.position_detailed),f=f.replace(/{projected_team_score}/g,h.projected_team_score),f=f.replace(/{first_name}/g,h.first_name),f=f.replace(/{fourth_initial}/g,"DST"==h.position_detailed||4>=h.first_name.length||4>=h.last_name.length?h.first_name:h.first_name.substring(0,1)+"."),f=f.replace(/{injury_status}/g,
h.injury_status),f=f.replace(/{icon}/g,p),f=f.replace(/{sport_css}/g,"nba"==window.sport?"sup-1":"sub-mini"),f=f.replace(/{last_name}/g,h.last_name),f=f.replace(/{opp}/g,h.opp),f=f.replace(/{location}/g,"vs"==h.location?"v. ":h.location),f=f.replace(/{team}/g,h.team),f=f.replace(/{opp_rank}/g,"mlb"!=window.sport?h.opp_rank:""),f=f.replace(/{opp_rank_bucket}/g,"mlb"!=window.sport?h.opp_rank_bucket:""),f=f.replace(/{ppg}/g,h.ppg),f=f.replace(/{pp_line}/g,r),f=f.replace(/{depth_rank}/g,h.depth_rank),
f=f.replace(/{pp_line_css}/g,v),f=f.replace(/{position_code}/g,h.position_code),f=f.replace(/{player_id}/g,h.player_id),f=f.replace(/{salary}/g,shortNumber(h.salary)),f=f.replace(/{team_name}/g,h.team_name),f=f.replace(/{value}/g,parseFloat(h.value).toFixed(1)),f=f.replace(/{eligible_status}/g,""),f=f.replace(/{exclude_status}/g,""),f=f.replace(/{starter}/g,q),f=f.replace(/{pick_status}/g,h.user_pick?"locked":"unlocked"),q="DST"==h.position_code?h.first_name:h.first_name.substring(0,1)+".",p='<img src="{0}" class="row_sidebar_icon">'.replace("{0}",
p),u="";if("mlb"==window.sport){var t=h.position_detailed;0<h.depth_rank&&(u='<span class="font-h4 text-blue-md">&nbsp;<i class="fa fa-check-circle" aria-hidden="true"></i><span>&nbsp;{0}</span></span>'.replace("{0}",h.depth_rank.toString().replace("0","")))}else t=h.position_detailed+h.depth_rank.toString().replace("0","");"1"==h.starter_flag?t+='<span class="text-blue-md col-space-left-1">STARTING</span>':"G"==h.position_detailed&&(t='<i class="fa text-copper fa-warning font-h4 col-space-right-1"></i>'+
t);g=g.replace(/{first_name}/g,q);g=g.replace(/{last_name}/g,h.last_name);g=g.replace(/{position}/g,t);g=g.replace(/{powerplay}/g,r);g=g.replace(/{pp_line_css}/g,v);g=g.replace(/{ppg}/g,h.ppg);g=g.replace(/{player_id}/g,h.player_id);g=g.replace(/{salary}/g,shortNumber(h.salary));g=g.replace(/{state}/g,h.user_pick?"locked":"unlocked");g=g.replace(/{team}/g,h.team);g=g.replace(/{value}/g,parseFloat(h.value).toFixed(1));g=g.replace(/{batting_order}/g,u);g=g.replace(/{injury_status}/g,h.injury_status);
g=g.replace(/{position_or_icon}/g,p);m+=f;l+=g}}0==k&&(k="loading"==a?"Calculating Best Pick<i class='loading-dots'><i>.</i><i>.</i><i>.</i></i>":"",h="loading"==a?'<i class="fa fa-spin fa-cog"></i>':window.positionsOrder[window.platform][window.sport][d],f=$("div.ui-page-active .mypicks-player-template-empty").html(),g="loading"==a?$("div.ui-page-active .sidebar-player-template-loading").html():$("div.ui-page-active .sidebar-player-template-empty").html(),r="<span>{0}</span>".replace("{0}",h),g=
g.replace(/{position}/g,r),f=f.replace(/{position}/g,h),f=f.replace(/{state}/g,k),m+=f,l+=g)}$("div.ui-page-active ul.mypicks").empty().html(m).show();$("div.ui-page-active ul.mypicks-desktop").empty().html(l).show();redrawMyTeams(a)}
function redrawMyTeams(a){if("loading"==a)$("div.ui-page-active #mypicks-teams-target .mypicks-teams-item-target").addClass("invisible");else{var b="";a={};var c=[],e="POINTS";"mlb"==window.sport.toLowerCase()?e="RUNS":"nhl"==window.sport.toLowerCase()&&(e="GOALS");if(0==Object.keys(window.pickDetails[window.activeLineup]).length)b=$("div.ui-page-active .mypicks-team-template-empty").html();else{for(var m in window.pickDetails[window.activeLineup]){var l=window.pickDetails[window.activeLineup][m],
d=null===window.pickDetails[window.activeLineup][m].projected_team_score?"--":window.pickDetails[window.activeLineup][m].projected_team_score;a[l.team]?(a[l.team].team=l.team,a[l.team].players++,a[l.team].salary+=l.salary,a[l.team].score=d,a[l.team].score_type=e):a[l.team]={team:l.team,players:1,salary:l.salary,score:d,score_type:e}}for(m in a)c.push(a[m]);c.sort(firstBy(function(a,b){return parseFloat(a.score||"-999")-parseFloat(b.score||"-999")},-1).thenBy(function(a,b){return parseFloat(a.salary)-
parseFloat(b.salary)},-1));for(m=0;m<c.length;m++)a="",-1<$.inArray(c[m].team,window.excludeTeams)&&(a="active"),e=window.filter[sport].stack==c[m].team?"active":"",l=$("div.ui-page-active .mypicks-team-template").html(),d=window.sport.toLowerCase()+"/"+c[m].team+window.logo_suffix[sport.toLowerCase()],l=l.replace(/{salary}/g,c[m].salary),l=l.replace(/{team}/g,c[m].team),l=l.replace(/{team_nickname}/g,window.teamMeta[window.sport][c[m].team].team_nickname),l=l.replace(/{icon}/g,d),l=l.replace(/{score}/g,
c[m].score),l=l.replace(/{score_type}/g,c[m].score_type),l=l.replace(/{state}/g,a),l=l.replace(/{stack_state}/g,e),l=l.replace(/{players}/g,c[m].players),b+=l}$("div.ui-page-active #mypicks-teams-target").empty().html(b)}}
function headerHandler(){if(0!=$("div.ui-page-active .row_labels").length){var a=$("div.ui-page-active .makePicks-filters").offset().top;0==(0<$(window).scrollTop()-a?!0:!1)?$("div.ui-page-active #optimize-cta").addClass("closed"):$("div.ui-page-active #optimize-cta").removeClass("closed")}}
function reSort(){var a=$("div.ui-page-active .sort-selected").data("value");window.filter[sport].sorting=a;"last_name"==a||"team"==a||"position_detailed"==a?window.players.sort(firstBy(a)):"pp_line"==a?window.players.sort(firstBy(function(b,c){return parseFloat(parseFloat(b[a]||"999"))-parseFloat(parseFloat(c[a]||"999"))})):"vegas_odds"==a?window.players.sort(firstBy(function(a){return window.teamMeta[window.sport][a.team].odds_value_sortable})):window.players.sort(firstBy(function(b,c){return parseFloat(b[a]||
"-999")-parseFloat(c[a]||"-999")},-1));setTimeout(function(){reFilter(a)},0)}
function reFilter(a){a=document.getElementById("listings");var b=document.body.getBoundingClientRect().top;a=a.getBoundingClientRect().top-b;window.pageYOffset>=a&&window.scrollTo({top:a});if(0<$("div.ui-page-active #player-search-desktop").val().length)var c=decodeURIComponent($("div.ui-page-active #player-search-desktop").val().toLowerCase());0<$("div.ui-page-active #player-search-mobile").val().length&&(c=decodeURIComponent($("div.ui-page-active #player-search-mobile").val().toLowerCase()));var e=
"";a=0;for(var b=parseInt(window.filter[sport].ppg_range_max[0])==parseInt(window.filter[sport].ppg_abs_max[0])?"99":window.filter[sport].ppg_range_max[0],m=0,l=window.players.length;m<l;m++){var d=$("div.ui-page-active .player-template").html(),k=window.players[m],n="",h=k.last_name,f=k.first_name,g=k.team,p=k.depth_rank,q=k.opp,r=window.cdn+"/logos/"+window.sport+"/"+k.team+window.logo_suffix[window.sport],v="home"==window.teamMeta[window.sport][k.team].location?"vs":"@",u=k.opp_rank,t=k.opp_rank_bucket,
A=k.projected_team_score,F=k.player_id,B=k.position_detailed,x=k.position_code,w=k.ppg,C=k.pp_line,y=k.salary,G=k.team_name,D=k.value,H=k.injury_status,E=k.starter_flag;if(D>=parseFloat(window.filter[sport].value_range_min[0])&&u>=parseInt(window.filter[sport].opp_rank_range_min[0])&&u<=parseInt(window.filter[sport].opp_rank_range_max[0])&&(-1!==$.inArray(x,window.filter[sport].position)||0==window.filter[sport].position.length)&&w>=parseInt(window.filter[sport].ppg_range_min[0])&&w<=parseInt(b)&&
y>=parseInt(window.filter[sport].salary_range_min[0])&&y<=parseInt(window.filter[sport].salary_range_max[0])&&("nhl"==sport&&-1!=$.inArray(parseInt(C),window.filter[sport].depth)||"nfl"==sport&&-1!=$.inArray(parseInt(p),window.filter[sport].depth)||0==window.filter[sport].depth.length)){window.pickDetails[window.activeLineup][k.player_id]&&window.pickDetails[window.activeLineup][k.player_id].user_pick&&(n="locked");if(window.excludePlayers[k.player_id]||-1<$.inArray(k.team,window.excludeTeams))n=
"excluded";var z=0>window.filter[sport].salary_cap-k.salary?"photo_cover_nopick":"";0>=dff.positionMeta[k.position_code].position_slots-dff.positionMeta[k.position_code].position_filled&&0==checkWildcard(k.position_code).eligible&&(z="photo_cover_nopick");window.pickDetails[window.activeLineup][k.player_id]&&(z="");d=d.replace(/{position_code}/g,x);d=d.replace(/{position_detailed}/g,B);d=d.replace(/{projected_team_score}/g,null===A?"":A);d=d.replace(/{first_name}/g,f);d=d.replace(/{fourth_initial}/g,
"DST"==B||4>=f.length||4>=h.length?f:f.substring(0,1)+".");d=d.replace(/{injury_status}/g,H);d=d.replace(/{last_name}/g,h);d=d.replace(/{team}/g,g);d=d.replace(/{icon}/g,r);d=d.replace(/{location}/g,v);d=d.replace(/{opp}/g,q);d=d.replace(/{opp_rank}/g,u);d=d.replace(/{opp_rank_bucket}/g,t);d=d.replace(/{pp_line}/g,"mlb"==window.sport&&p&&0<p?"\u2713 BATS "+p:C);d=d.replace(/{depth_rank}/g,p&&0<p?p:"");d=d.replace(/{player_id}/g,F);d=d.replace(/{ppg}/g,w);d=d.replace(/{ppg_desktop}/g,w);d=d.replace(/{salary}/g,
y);d=d.replace(/{team_name}/g,G);d=d.replace(/{value}/g,parseFloat(D).toFixed(1));d=d.replace("{eligible_status}",z);d=d.replace("{pick_status}",n);d=d.replace("{starter}",checkStarter(p,x,E));d=d.replace("{starter_flag}",E);c&&"undefined"!==typeof c?-1!=(f+" "+h).toLowerCase().indexOf(c)&&(e+=d,a++):(e+=d,a++)}}setTimeout(function(){$("ul.listings .row, ul.listings .load_more").remove();document.getElementById("listings").insertAdjacentHTML("beforeend",e);var a=$("#listings li.row").length;$("#filter-counts").text(a)},
0)}function checkStarter(a,b,c){return 1==c&&"G"==b?"STARTING GOALIE":1==c?"STARTING":""}function shortNumber(a){return(a/1E3).toFixed(1)+"K"}
function initSliders(){$("#slider-ppg").noUiSlider({connect:!0,behaviour:"none",range:{nfl:{min:0,max:40},nba:{min:0,max:70},mlb:{min:0,max:60},nhl:{min:0,max:25}}[window.sport],start:[window.filter[sport].ppg_range_min,window.filter[sport].ppg_range_max]});$("#slider-ppg").Link("lower").to($(".ppg_min"),"html",wNumb({decimals:0}));$("#slider-ppg").Link("upper").to($(".ppg_max"),"html",wNumb({decimals:0}));$("#slider-ppg").Link("lower").to($("#ppg_filter_min_rate"));$("#slider-ppg").Link("upper").to($("#ppg_filter_max_rate"));
$("#slider-salary-opt").noUiSlider({behaviour:"none",step:100,connect:!0,range:{min:window.filter[sport].opt_salary_min,max:window.filter[sport].opt_salary_max},start:[.8*window.platformMaxSalary,window.platformMaxSalary]});$("#slider-salary-opt").Link("lower").to($(".salary_opt_min"),"html",wNumb({decimals:0,postfix:"",prefix:"$",thousand:","}));$("#slider-salary-opt").Link("upper").to($(".salary_opt_max"),"html",wNumb({decimals:0,postfix:"",prefix:"$",thousand:","}));$("#slider-salary-opt").Link("lower").to($("#salary_opt_filter_min_rate"));
$("#slider-salary-opt").Link("upper").to($("#salary_opt_filter_max_rate"));$("#slider-value").noUiSlider({behaviour:"none",step:.25,range:{nfl:{min:0,max:6},nba:{min:0,max:8},mlb:{min:0,max:8},nhl:{min:0,max:3.5}}[window.sport],start:window.filter[sport].value_range_min});$("#slider-value").Link("lower").to($(".value_min"),"html",wNumb({decimals:1,postfix:""}));$("#slider-value").Link("lower").to($("#value_filter_min_rate"));$("#slider-opp-rank").noUiSlider({connect:!0,behaviour:"none",range:{nba:{min:1,
max:30},nhl:{min:1,max:31},mlb:{min:1,max:30},nfl:{min:1,max:32}}[window.sport],step:1,start:[window.filter[sport].opp_rank_range_min,window.filter[sport].opp_rank_range_max]});$("#slider-opp-rank").Link("lower").to($(".opp_rank_min"),"html",wNumb({decimals:0,postfix:""}));$("#slider-opp-rank").Link("upper").to($(".opp_rank_max"),"html",wNumb({decimals:0,postfix:""}));$("#slider-opp-rank").Link("lower").to($("#opp_rank_filter_min_rate"));$("#slider-opp-rank").Link("upper").to($("#opp_rank_filter_max_rate"));
$("#slider-salary").noUiSlider({behaviour:"none",step:100,connect:!0,range:{min:2E3,max:13E3},start:[window.filter[sport].salary_range_min,window.filter[sport].salary_range_max]});$("#slider-salary").Link("lower").to($(".salary_min"),"html",wNumb({decimals:0,postfix:"",prefix:"$",thousand:","}));$("#slider-salary").Link("upper").to($(".salary_max"),"html",wNumb({decimals:0,postfix:"",prefix:"$",thousand:","}));$("#slider-salary").Link("lower").to($("#salary_filter_min_rate"));$("#slider-salary").Link("upper").to($("#salary_filter_max_rate"))}
firstBy=function(){function a(a,b){if("function"!=typeof a){var c=a;a=function(a,b){return a[c]<b[c]?-1:a[c]>b[c]?1:0}}if(1===a.length){var d=a;a=function(a,b){return d(a)<d(b)?-1:d(a)>d(b)?1:0}}return-1===b?function(b,c){return-a(b,c)}:a}function b(b,m){b=a(b,m);b.thenBy=c;return b}function c(c,m){var l=this;c=a(c,m);return b(function(a,b){return l(a,b)||c(a,b)})}return b}();
function buildOptimizerArray(a,b){var c=a||0,e=b=b||0;0<c&&(e=0);for(var m={},l={},d={},k=[],n={},h={},f=0;f<window.positions[window.platform][sport].length;f++)-1==$.inArray(window.positions[window.platform][sport][f],dff.wildcards)&&(l[window.positions[window.platform][sport][f]]=[],n[window.positions[window.platform][sport][f]]=[],h[window.positions[window.platform][sport][f]]={});for(f=0;f<window.players.length;f++){var g=window.players[f];if(g.player_id!=c&&("undefined"==typeof window.excludePlayers[g.player_id]&&
-1==$.inArray(g.team,window.excludeTeams)||"undefined"!=typeof window.pickDetails[e][g.player_id])&&!(!(2<=parseFloat(g.ppg)&&"DTD"!=g.injury_status)||14>=parseFloat(g.ppg)&&"nba"==window.sport&&"dk"==window.platform&&3<=window.matches.length||"QB"==g.position_code&&window.filter[sport].stack&&window.filter[sport].stack.length&&g.team!=window.filter[sport].stack)){var p={};p.p=g.player_id;p.s=g.salary;p.t=g.team;p.o=g.opp;p.ppg=parseFloat(g.ppg);l[g.position_code].push(p)}}for(f in l)d[f]=l[f].sort(firstBy("s",
-1).thenBy(function(a,b){return parseFloat(a.ppg)-parseFloat(b.ppg)},-1));for(f in d)for(var c="dk"==window.platform&&("WR"==f&&200<=d.WR.length||"RB"==f&&40<=d.RB.length||"W"==f&&60<=d.W.length||"C"==f&&20<=d.C.length||"D"==f&&20<=d.D.length||"PG"==f&&30<=d.PG.length||"SG"==f&&30<=d.SG.length||"PF"==f&&30<=d.PF.length||"SF"==f&&30<=d.SF.length)?1:dff.positionMeta[f].wildcards.length+dff.positionMeta[f].position_slots,q=0;q<d[f].length;q++){var g=d[f][q],l=g.s,p=g.t,r=g.o;h[f][l]=h[f][l]+1||1;if(h[f][l]<=
c||"undefined"!=typeof window.pickDetails[b][g.p])n[f].push(g),0>$.inArray(p,k)&&k.push(p),0>$.inArray(r,k)&&k.push(r)}for(q in window.pickDetails[e])window.pickDetails[e][q]&&window.pickDetails[e][q].user_pick&&(g=window.pickDetails[e][q],m[g.player_id]=g.position_code,b!=e&&(window.pickDetails[b][q]=window.pickDetails[e][q]));n.locked=m;n.teams=k;n.ovd=window.filter[sport].ovd;n.flex=window.filter[sport].flex;window.filter[sport].stack&&window.filter[sport].stack.length&&(n.stack=window.filter[sport].stack);
n.maxPlayers=window.maxPlayers[platform];n.minSalary=Math.round(window.filter[sport].opt_salary_min[0]);n.maxSalary=Math.round(window.filter[sport].opt_salary_max[0]);return n}function closePopup(){$('div[data-role="popup"]').removeClass("open");$("body").removeClass("noscroll");$(".ui-page-active").removeClass("blur");"undefined"!=typeof history.pushState&&window.location.hash&&"popup"==window.location.hash.substring(1)&&window.history.back()}
window.onhashchange=function(){0==location.hash.length&&($('div[data-role="popup"]').removeClass("open"),$("body").removeClass("noscroll"),$(".ui-page-active").removeClass("blur"))};function getTab(){return $("div.ui-page-active").data("view")}
function genericPopupCloser(a){$(a.target).closest(".optimizer-settings-ovd-container").length||$(a.target).closest(".optimizer-settings-flex-container").length||$(a.target).closest(".optimizer-settings-stacking-container").length||($(".optimizer-settings-ovd-container").removeClass("open"),$(".optimizer-settings-flex-container").removeClass("open"),$(".optimizer-settings-stacking-container").removeClass("open"),$("#makePicks-listings").removeClass("faded-dk").removeClass("noclick"),$(document).off("click",
genericPopupCloser))};
